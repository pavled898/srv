/// <reference types="@types/googlemaps" />
import { Component, OnInit, ViewChild, ElementRef, AfterViewInit } from '@angular/core';


@Component({
  selector: 'app-home-page',
  templateUrl: './home-page.component.html',
  styleUrls: ['./home-page.component.scss']
})
export class HomePageComponent implements OnInit, AfterViewInit {
  isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);

  @ViewChild('gmap', {static: false}) gmap: ElementRef;
  map: google.maps.Map;
  lat = 44.805925;
  lng = 20.451714;
  coordinates = new google.maps.LatLng(this.lat, this.lng);
  mapOptions: google.maps.MapOptions = {
    center: this.coordinates,
    zoom: 11,
  };

  mapInitializer() {
    this.map = new google.maps.Map(this.gmap.nativeElement, 
    this.mapOptions);
   }

   zoneOneCoord = [
    {lat: 44.859671325221186, lng: 20.376498749835385},
    {lat: 44.85565575014965, lng: 20.37409549055804},
    {lat: 44.85115310569615, lng: 20.374267151934994}, 
    {lat: 44.84007753656093, lng: 20.366714051349057}, 
    {lat: 44.82266876840952, lng: 20.36139254866351}, 
    {lat: 44.82108589237401, lng: 20.373494675738705}, 
    {lat: 44.81597168817586, lng: 20.370318940265072}, 
    {lat: 44.8098827584038, lng: 20.361821702105892}, 
    {lat: 44.80314226928835, lng: 20.366213390517665}, 
    {lat: 44.80128480073632, lng: 20.362629959273768}, 
    {lat: 44.78988661162399, lng: 20.37066508483672}, 
    {lat: 44.777215188183234, lng: 20.40259410095}, 
    {lat: 44.76472380425143, lng: 20.41336585235381}, 
    {lat: 44.76405345849761, lng: 20.4190735931375}, 
    {lat: 44.772819781194556, lng: 20.424217449826973}, 
    {lat: 44.77421354171813, lng: 20.423402058286445}, 
    {lat: 44.777016260965276, lng: 20.42426036517121}, 
    {lat: 44.78320004068832, lng: 20.422114597959297}, 
    {lat: 44.784462521683736, lng: 20.426886056910323}, 
    {lat: 44.78379240501732, lng: 20.429332231531905}, 
    {lat: 44.78466785229275, lng: 20.437402725219727}, 
    {lat: 44.780746322133055, lng: 20.44293639565544}, 
    {lat: 44.777991493501794, lng: 20.458006604307393}, 
    {lat: 44.7703752198034, lng: 20.45354340850661}, 
    {lat: 44.766414360512016, lng: 20.463156445615986}, 
    {lat: 44.76153108167562, lng: 20.467402301037634}, 
    {lat: 44.76346600658686, lng: 20.47197278519901}, 
    {lat: 44.7614549022036, lng: 20.473882518017614}, 
    {lat: 44.76063025435668, lng: 20.481069087982178}, 
    {lat: 44.7626371324847, lng: 20.49017454229476}, 
    {lat: 44.76440443420278, lng: 20.49240614019515}, 
    {lat: 44.762332419827565, lng: 20.497040997372885}, 
    {lat: 44.76470913593124, lng: 20.50013090215804},  
    {lat: 44.767756064822166, lng: 20.500731716977377},
    {lat: 44.770376295127974, lng: 20.502705822812338},
    {lat: 44.771290300991005, lng: 20.503993283139486},
    {lat: 44.7715949663977, lng: 20.50914312444808},
    {lat: 44.77153403344496, lng: 20.510773907529135},
    {lat: 44.77214336007972, lng: 20.512061367856283},
    {lat: 44.778236272852446, lng: 20.508971463071127},
    {lat: 44.78118723665102, lng: 20.513214633599624},
    {lat: 44.78405053722736, lng: 20.51905112041603},
    {lat: 44.7857933478863, lng: 20.517352234214194},
    {lat: 44.788960993797104, lng: 20.516751419394858},
    {lat: 44.79225028825454, lng: 20.51666558870638},
    {lat: 44.79742750160827, lng: 20.500357757895834},
    {lat: 44.80004638556413, lng: 20.500529419272787},
    {lat: 44.804279145832055, lng: 20.487284584338497},
    {lat: 44.81670108741355, lng: 20.477585716540645},
    {lat: 44.81937997896539, lng: 20.476899071032832},
    {lat: 44.819745272715764, lng: 20.471663399035762},
    {lat: 44.82321544791672, lng: 20.47200672178967},
    {lat: 44.82796377024609, lng: 20.463681145007442},
    {lat: 44.82893773673888, lng: 20.452179832751582},
    {lat: 44.82765940234199, lng: 20.4517506793092},
    {lat: 44.826015787887876, lng: 20.44600002318127},
    {lat: 44.821997866369294, lng: 20.446686668689082},
    {lat: 44.81968439058474, lng: 20.44977657347424},
    {lat: 44.816761972694614, lng: 20.44951908140881},
    {lat: 44.816883743063904, lng: 20.446085853869747},
    {lat: 44.82218050524073, lng: 20.44196598082287},
    {lat: 44.822119625681204, lng: 20.438876076037715},
    {lat: 44.82229176407204, lng: 20.429724789959632},
    {lat: 44.825579158475676, lng: 20.42457494865104},
    {lat: 44.830753381000996, lng: 20.421485043865882},
    {lat: 44.84011966378542, lng: 20.418940333851015},
    {lat: 44.84584027438945, lng: 20.41636541319672},
    {lat: 44.85064029703266, lng: 20.40822177394997},
    {lat: 44.853195917948966, lng: 20.40144114956032},
    {lat: 44.85550804867997, lng: 20.394317202416765},
    {lat: 44.858489343383106, lng: 20.386506609765398},
    {lat: 44.861409645675636, lng: 20.37998347744118}
   ]

   zoneOne = new google.maps.Polygon({
     paths: this.zoneOneCoord,
     strokeColor: '#FF0000',
     strokeOpacity: 0.8,
     strokeWeight: 2,
     fillColor: '#FF0000',
     fillOpacity: 0.35
   })




  constructor() { 
    console.log(this.isMobile)
  }

  ngOnInit() {
  }

  ngAfterViewInit() {
    this.mapInitializer();
    this.zoneOne.setMap(this.map)
  }

}

